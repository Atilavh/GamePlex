{% extends 'shared/_layout.html' %}
{% load static %}
{% load thumbnail %}

{% block title %}
    مسابقات
{% endblock %}

{% block content %}
    <br><br><br><br><br><br>
    <div class="tournament-wrapper alt">
        <div class="container">
            <div class="row justify-content-between align-items-end mb-8">
                <div class="col">
                    <h2 class="display-four tcn-1 cursor-scale growUp title-anim">مسابقات</h2>
                </div>
            </div>
            <div class="singletab tournaments-tab">
                <div class="d-between gap-6 flex-wrap mb-lg-15 mb-sm-10 mb-6">
                    <ul class="tablinks d-flex flex-wrap align-items-center gap-3">
                        <li class="nav-links active">
                            <button class="tablink py-sm-3 py-2 px-sm-8 px-6 rounded-pill tcn-1">همه</button>
                        </li>
                        <li class="nav-links">
                            <button class="tablink py-sm-3 py-2 px-sm-8 px-6 rounded-pill tcn-1">فعال</button>
                        </li>
                        <li class="nav-links">
                            <button class="tablink py-sm-3 py-2 px-sm-8 px-6 rounded-pill tcn-1">بزودی</button>
                        </li>
                        <li class="nav-links">
                            <button class="tablink py-sm-3 py-2 px-sm-8 px-6 rounded-pill tcn-1">پایان
                                یافته
                            </button>
                        </li>
                    </ul>
                    <div class="px-6">
                        <a href="#"
                           class="btn-half-border position-relative d-inline-block py-2 bgp-1 px-6 rounded-pill">بیشتر
                            ببینید</a>
                    </div>
                </div>
                <div class="tabcontents">
                    <div class="tabitem active">
                        <div class="row justify-content-md-start justify-content-center g-6">
                            {% for tournament in tournaments %}
                                <div class="col-xl-4 col-md-6 col-sm-10">
                                    <div class="tournament-card p-xl-4 p-3 pb-xl-8 bgn-4">
                                        <div class="tournament-img mb-8 position-relative">
                                            <div class="img-area overflow-hidden">

                                                {% thumbnail tournament.image "294x332" quality=95 crop='center' as im %}
                                                    <img class="w-100" src="{{ im.url }}"
                                                         alt="مسابقات">
                                                {% endthumbnail %}
                                            </div>
                                            <span class="card-status position-absolute end-0 py-2 px-6 tcn-1 fs-sm">
                                                <span class="dot-icon alt-icon pe-3">تورنومنت
                                                </span>
                                            </span>
                                        </div>
                                        <div class="tournament-content px-xxl-4">
                                            <div class="tournament-info mb-5">
                                                <a href="tournaments-details.html" class="d-block">
                                                    <h4 class="tournament-title tcn-1 mb-1 cursor-scale growDown title-anim">
                                                        {{ tournament.title }}</h4>
                                                </a>
                                                <span class="tcn-6 fs-sm">{{ tournament.mode }}</span>
                                            </div>
                                            <div class="hr-line line3"></div>
                                            <div class="card-info d-flex align-items-center gap-3 flex-wrap my-5">
                                                <div class="price-money bgn-3 d-flex align-items-center gap-3 py-2 px-3 h-25">
                                                    <div class="d-flex align-items-center gap-2" style="border-radius: 20px">
                                                        <img src="{% static 'img/Prize-removebg-preview.png' %}"
                                                             alt="تتر" style="display: block; width: 10%; height: 10%;border-radius: 20px;">
                                                        <span class="tcn-1 fs-sm">{{ tournament.prize }}ت</span>
                                                        <p>(جایزه تورنومنت در صورت برد)</p>
                                                    </div>
                                                </div>
                                                <div class="ticket-fee bgn-3 d-flex align-items-center gap-1 py-2 px-3 h-100">
                                                    <i class="ti ti-ticket fs-base tcp-2"></i>
                                                    <span class="tcn-1 fs-sm">ورودی: {{ tournament.ticketamount }}ت</span>
                                                </div>
                                                <div class="date-time bgn-3 d-flex align-items-center gap-1 py-2 px-3 h-100">
                                                    <i class="ti ti-calendar fs-base tcn-1"></i>
                                                    <span class="tcn-1 fs-sm">{{ tournament.date }}</span>
                                                </div>
                                            </div>
                                            <div class="hr-line line3"></div>
                                            <div class="card-more-info d-between mt-6">
                                                <div class="teams-info d-between gap-xl-5 gap-3">
                                                    <div class="teams d-flex align-items-center gap-1">
                                                        <i class="ti ti-users fs-base"></i>
                                                        <span class="tcn-6 fs-sm">12/12 تیم</span>
                                                    </div>
                                                    <div class="player d-flex align-items-center gap-1">
                                                        <i class="ti ti-user fs-base"></i>
                                                        <span class="tcn-6 fs-sm">128 بازیکن</span>
                                                    </div>
                                                </div>
                                                <a href="tournaments-details.html" class="btn2">
                                                    <i class="ti ti-arrow-left fs-2xl"></i>
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            {% endfor %}
                        </div>
                    </div>
                    <br>
                    <br>
                    <ul class="pagination">
                        {% for page in page_obj.page_range %}
                            <li class="page-item active"><a class="page-link" href="#">1</a></li>
                        {% endfor %}
                    </ul>

                    {% if page_obj.has_previous %}
                        <a href="?page={{ page_obj.previous_page_number }}">Previous</a>
                    {% endif %}

                    {#                    {% for object in page_obj %}#}
                    {#                        {{ object.name }}#}
                    {#                    {% endfor %}#}

                    {% if page_obj.has_next %}
                        <a href="?page={{ page_obj.next_page_number }}">Next</a>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
{% endblock %}
